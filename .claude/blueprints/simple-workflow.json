{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "blueprint_version": "1.0",

  "metadata": {
    "id": "simple-workflow",
    "name": "Simple Workflow System",
    "description": "Einfacher 1-3 Agent Linear Pipeline Workflow",
    "type": "workflow",
    "complexity": "low",
    "created": "2025-12-16",
    "source_template": ".claude/templates/scenarios/simple-workflow/"
  },

  "detection_patterns": {
    "keywords": [
      "einfach", "simple", "workflow", "pipeline", "automatisieren",
      "verarbeiten", "process", "task", "job", "routine"
    ],
    "domain_hints": {
      "content": ["content", "text", "blog", "artikel", "schreiben"],
      "code": ["code", "review", "refactor", "lint", "format"],
      "data": ["data", "daten", "csv", "json", "transform", "convert"],
      "media": ["bild", "image", "video", "audio", "resize", "optimize"]
    },
    "complexity_indicators": ["einfach", "simple", "schnell", "basic", "minimal"]
  },

  "architecture": {
    "pattern": "linear-pipeline",
    "coordination": "sequential",
    "characteristics": {
      "input": "single-input",
      "output": "processed-output",
      "interaction": "fire-and-forget"
    },
    "agent_count": {
      "min": 1,
      "max": 3,
      "recommended": 2
    },
    "model_tiering": {
      "enabled": true,
      "tier1": {
        "model": "opus",
        "use_for": "Complex processing only if needed",
        "max_agents": 1
      },
      "tier2": {
        "model": "sonnet",
        "use_for": "Standard processing, main workflow",
        "max_agents": 2
      },
      "tier3": {
        "model": "haiku",
        "use_for": "Simple tasks, formatting, validation",
        "max_agents": 2
      }
    },
    "execution_pattern": {
      "type": "sequential",
      "steps": ["input", "process", "output"]
    }
  },

  "components": {
    "agents": {
      "mandatory": [
        {
          "role": "processor",
          "template": ".claude/templates/agents/specialist-agent.md",
          "tier": 2,
          "description": "Hauptverarbeitung des Inputs",
          "capabilities": [
            "input_processing",
            "transformation",
            "core_logic"
          ]
        }
      ],
      "optional": [
        {
          "role": "validator",
          "template": ".claude/templates/agents/specialist-agent.md",
          "tier": 3,
          "description": "Validiert Input vor Verarbeitung",
          "condition": "input_validation == true",
          "position": "before_processor",
          "capabilities": [
            "input_validation",
            "format_checking",
            "error_detection"
          ]
        },
        {
          "role": "reviewer",
          "template": ".claude/templates/agents/specialist-agent.md",
          "tier": 2,
          "description": "Quality Check des Outputs",
          "condition": "quality_check == true",
          "position": "after_processor",
          "capabilities": [
            "quality_assessment",
            "improvement_suggestions",
            "final_approval"
          ]
        },
        {
          "role": "formatter",
          "template": ".claude/templates/agents/specialist-agent.md",
          "tier": 3,
          "description": "Formatiert Output für Zielformat",
          "condition": "custom_output_format == true",
          "position": "last",
          "capabilities": [
            "output_formatting",
            "template_application",
            "final_polish"
          ]
        }
      ]
    },
    "commands": [
      {
        "name": "{domain}-run",
        "template": ".claude/templates/commands/workflow-command.md",
        "description": "Workflow ausführen",
        "model": "sonnet"
      },
      {
        "name": "{domain}-status",
        "template": ".claude/templates/commands/analysis-command.md",
        "description": "Status prüfen",
        "model": "haiku"
      }
    ],
    "rules": []
  },

  "knowledge_injection": {
    "auto_detect": false,
    "patterns": [
      {
        "id": "intake-gate-pattern",
        "path": "knowledge/patterns/intake-gate-pattern.md",
        "required": false,
        "inject_as": "reference"
      }
    ],
    "learnings": []
  },

  "generation": {
    "target_structure": {
      "directories": [
        ".claude/agents/",
        ".claude/commands/",
        "_input/",
        "_output/"
      ],
      "required_files": [
        "CLAUDE.md",
        "README.md"
      ],
      "optional_files": [
        ".claude/scenario.json",
        "_input/.gitkeep",
        "_output/.gitkeep"
      ]
    },
    "placeholders": {
      "required": [
        "{PROJECT_NAME}",
        "{DOMAIN}",
        "{DESCRIPTION}",
        "{TARGET_PATH}"
      ],
      "generated": [
        "{AGENT_LIST}",
        "{COMMAND_LIST}",
        "{DATE}",
        "{BLUEPRINT_NAME}"
      ],
      "optional": [
        "{INPUT_FORMAT}",
        "{OUTPUT_FORMAT}"
      ]
    },
    "templates": {
      "claude_md": ".claude/templates/generated-system/CLAUDE.md.template",
      "readme": ".claude/templates/generated-system/README.md.template",
      "scenario_json": ".claude/templates/generated-system/scenario.json.template"
    }
  },

  "validation": {
    "checks": [
      "all_placeholders_replaced",
      "directory_structure_complete",
      "required_files_exist",
      "claude_md_has_content"
    ],
    "quality_gates": {
      "min_agents": 1,
      "claude_md_min_lines": 20,
      "all_agents_have_description": true
    }
  },

  "customization": {
    "questions": [
      {
        "id": "domain",
        "question": "Für welche Domain ist der Workflow? (z.B. content, code, data)",
        "type": "string",
        "required": true
      },
      {
        "id": "project_name",
        "question": "Wie soll das Projekt heißen?",
        "type": "string",
        "required": true,
        "default": "{domain}-workflow"
      },
      {
        "id": "include_validator",
        "question": "Soll Input vor Verarbeitung validiert werden?",
        "type": "boolean",
        "default": false
      },
      {
        "id": "include_reviewer",
        "question": "Soll ein Quality Check nach Verarbeitung stattfinden?",
        "type": "boolean",
        "default": false
      },
      {
        "id": "input_format",
        "question": "Erwartetes Input-Format? (text, json, file, any)",
        "type": "string",
        "options": ["text", "json", "file", "any"],
        "default": "any"
      },
      {
        "id": "output_format",
        "question": "Erwartetes Output-Format? (text, json, file, same)",
        "type": "string",
        "options": ["text", "json", "file", "same"],
        "default": "same"
      }
    ]
  },

  "examples": {
    "content": {
      "domain": "content",
      "project_name": "Content-Pipeline",
      "agents": ["content-processor"],
      "commands": ["content-run", "content-status"],
      "description": "Einfache Content-Verarbeitung (z.B. Blog-Posts formatieren)"
    },
    "code": {
      "domain": "code",
      "project_name": "Code-Review-Pipeline",
      "agents": ["code-processor", "code-reviewer"],
      "commands": ["code-run", "code-status"],
      "description": "Code Review mit Feedback"
    },
    "data": {
      "domain": "data",
      "project_name": "Data-Transform-Pipeline",
      "agents": ["data-validator", "data-processor"],
      "commands": ["data-run", "data-status"],
      "description": "Daten-Transformation mit Validierung"
    }
  }
}
